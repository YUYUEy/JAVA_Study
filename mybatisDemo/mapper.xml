<!-- 用户信息综合查询
    #{userCustom.sex}:取出pojo包装对象中性别值
    ${userCustom.username}：取出pojo包装对象中用户名称
 -->
<select id="findUserList" parameterType="com.iot.mybatis.po.UserQueryVo"
        resultType="com.iot.mybatis.po.UserCustom">
        select * from t_bd_user
        <where>
        	<if test="userCustom!=null">
        		<if test="userCustom.sex !=null and userCustom.sex !='' ">
        			AND user.sex=#{userCustom.sex}
        		</if>
        		<if test="userCustom.username !=null and userCustom.username !='' ">
        			AND user.username LIKE '%${userCustom.username}%'
        		</if>
        	</if>
        </where>
</select>

<select id="findUserCount" parameterType="com.iot.mybatis.po.UserQueryVo" resultType="int">
    SELECT count(*) FROM user

	<where>
		<if test="userCustom!=null">
        		<if test="userCustom.sex !=null and userCustom.sex !='' ">
        			AND user.sex=#{userCustom.sex}
        		</if>
        		<if test="userCustom.username !=null and userCustom.username !='' ">
        			AND user.username LIKE '%${userCustom.username}%'
        		</if>
        </if>
	</where>
</select>
